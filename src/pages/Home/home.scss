#home {
  min-height: 100vh;
  overflow: hidden;
  text-align: center;
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
  position: relative;
  & > * {
    // flex: 1;
    width: 100%;
  }
  .content-wrapper {
    position: relative;
    max-height: 240px;
    .lg-heading {
      font-size: 5em;
      line-height: 1;
      margin-bottom: 0.5em;
    }
    .sm-heading {
      // padding: 0.2em 1em;
      // background: rgba(lighten($primary-color, 2), 0.5);
    }
    .sample,
    .glitch-it {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
    }
    .sample {
      font: 4em/1em 'Space Mono', monospace;
    }
    .glitch-it {
      font: 5em/3em 'Press Start 2P', cursive;
    }
  }
}

.splitting {
  &.sample {
    .char {
      animation: just-another-dev-animate 4s cubic-bezier(0.5, 0, 0.5, 1) both;
      animation-delay: calc(60ms * var(--char-index));
    }
  }

  @keyframes just-another-dev-animate {
    0% {
      transform: translateY(-5em) rotate(-0.5turn) scale(0.5);
      opacity: 0;
    }
    50% {
      transform: translateY(0em) rotate(0turn) scale(1);
      opacity: 1;
    }
    85% {
      transform: translateY(0em) rotate(0turn) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateX(-5em) rotate(0.5turn) scale(0.5);
      opacity: 0;
    }
  }

  &.glitch-it {
    animation: fade-in 8s ease-in;
    @keyframes fade-in {
      from {
        opacity: 0;
      }
      50% {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    .char,
    .char:before,
    .char:after {
      transition: color 0.2s linear;
      animation-duration: 0.6s, 0.4s;

      animation-iteration-count: infinite;
      animation-timing-function: steps(1);
      animation-delay: calc(-0.1s * var(--char-index));
    }

    .char:before,
    .char:after {
      visibility: visible;
      // opacity: 0;
      mix-blend-mode: overlay;
      transition-property: opacity;
      animation-name: glitch-anim, glitch-bounce;
      // animation-play-state: paused;
      // opacity: 1;
      animation-play-state: running;
    }
    .char {
      color: rgba(255, 255, 255, 0.3);
      animation-name: glitch-bounce;
    }
    .char:before {
      color: $yellow;
      animation-delay: calc(-0.02s * var(--char-index));
    }

    .char:after {
      color: $blue;
      animation-delay: calc(-0.5s * var(--char-index));
    }

    // &:hover .char {
    //   color: rgba(255, 255, 255, 0.3);
    //   animation-name: glitch-bounce;
    // }
    // &:hover .char:before,
    // &:hover .char:after {
    //   opacity: 1;
    //   animation-play-state: running;
    // }
  }

  @keyframes glitch-bounce {
    20% {
      transform: translate(-1%, 0%);
    }
    40% {
      transform: translate(14%, -2%);
    }
    50% {
      transform: translate(-5%, 5%);
    }
    65% {
      transform: translate(1%, -2%);
    }
    80% {
      transform: translate(-3%, 2%);
    }
  }

  @keyframes glitch-anim {
    0% {
      clip-path: polygon(0 70%, 100% 70%, 100% 75%, 0 75%);
    }
    20% {
      clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);
    }
    40% {
      clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);
    }
    60% {
      clip-path: polygon(0 50%, 100% 50%, 100% 20%, 0 20%);
    }
    80% {
      clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);
    }
    100% {
      clip-path: polygon(0 70%, 100% 70%, 100% 80%, 0 80%);
    }
  }
}
